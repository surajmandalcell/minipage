/*! Sortable 1.7.0 - MIT | git://github.com/rubaxa/Sortable.git */

(function(b){"use strict";"function"==typeof define&&define.amd?define(b):"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=b():window.Sortable=b()})(function(){"use strict";function b(va,wa){if(!(va&&va.nodeType&&1===va.nodeType))throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(va);this.el=va,this.options=wa=z({},wa),va[ca]=this;var xa={group:null,sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(va.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(Aa,Ba){Aa.setData("Text",Ba.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,touchStartThreshold:fa(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==b.supportPointer};for(var ya in xa)ya in wa||(wa[ya]=xa[ya]);for(var za in ua(wa),this)"_"===za.charAt(0)&&"function"==typeof this[za]&&(this[za]=this[za].bind(this));this.nativeDraggable=!wa.forceFallback&&la,h(va,"mousedown",this._onTapStart),h(va,"touchstart",this._onTapStart),wa.supportPointer&&h(va,"pointerdown",this._onTapStart),this.nativeDraggable&&(h(va,"dragover",this),h(va,"dragenter",this)),ra.push(this._onDragOver),wa.store&&this.sort(wa.store.get(this))}function c(va,wa){"clone"!==va.lastPullMode&&(wa=!0),H&&H.state!==wa&&(l(H,"display",wa?"none":""),!wa&&H.state&&(va.options.group.revertClone?(I.insertBefore(H,J),va._animate(E,H)):I.insertBefore(H,E)),H.state=wa)}function d(va,wa,xa){if(va){xa=xa||ea;do if(">*"===wa&&va.parentNode===xa||v(va,wa))return va;while(va=f(va))}return null}function f(va){var wa=va.host;return wa&&wa.nodeType?wa:va.parentNode}function g(va){va.dataTransfer&&(va.dataTransfer.dropEffect="move"),va.preventDefault()}function h(va,wa,xa){va.addEventListener(wa,xa,ja)}function j(va,wa,xa){va.removeEventListener(wa,xa,ja)}function k(va,wa,xa){if(va)if(va.classList)va.classList[xa?"add":"remove"](wa);else{var ya=(" "+va.className+" ").replace(aa," ").replace(" "+wa+" "," ");va.className=(ya+(xa?" "+wa:"")).replace(aa," ")}}function l(va,wa,xa){var ya=va&&va.style;if(ya){if(void 0===xa)return ea.defaultView&&ea.defaultView.getComputedStyle?xa=ea.defaultView.getComputedStyle(va,""):va.currentStyle&&(xa=va.currentStyle),void 0===wa?xa:xa[wa];wa in ya||(wa="-webkit-"+wa),ya[wa]=xa+("string"==typeof xa?"":"px")}}function m(va,wa,xa){if(va){var ya=va.getElementsByTagName(wa),za=0,Aa=ya.length;if(xa)for(;za<Aa;za++)xa(ya[za],za);return ya}return[]}function o(va,wa,xa,ya,za,Aa,Ba,Ca,Da){va=va||wa[ca];var Ea=ea.createEvent("Event"),Fa=va.options,Ga="on"+xa.charAt(0).toUpperCase()+xa.substr(1);Ea.initEvent(xa,!0,!0),Ea.to=za||wa,Ea.from=Aa||wa,Ea.item=ya||wa,Ea.clone=H,Ea.oldIndex=Ba,Ea.newIndex=Ca,Ea.originalEvent=Da,wa.dispatchEvent(Ea),Fa[Ga]&&Fa[Ga].call(va,Ea)}function p(va,wa,xa,ya,za,Aa,Ba,Ca){var Da,Ga,Ea=va[ca],Fa=Ea.options.onMove;return Da=ea.createEvent("Event"),Da.initEvent("move",!0,!0),Da.to=wa,Da.from=va,Da.dragged=xa,Da.draggedRect=ya,Da.related=za||wa,Da.relatedRect=Aa||wa.getBoundingClientRect(),Da.willInsertAfter=Ca,Da.originalEvent=Ba,va.dispatchEvent(Da),Fa&&(Ga=Fa.call(Ea,Da,Ba)),Ga}function q(va){va.draggable=!1}function r(){na=!1}function s(va,wa){var xa=va.lastElementChild,ya=xa.getBoundingClientRect();return 5<wa.clientY-(ya.top+ya.height)||5<wa.clientX-(ya.left+ya.width)}function t(va){for(var wa=va.tagName+va.className+va.src+va.href+va.textContent,xa=wa.length,ya=0;xa--;)ya+=wa.charCodeAt(xa);return ya.toString(36)}function u(va,wa){var xa=0;if(!va||!va.parentNode)return-1;for(;va&&(va=va.previousElementSibling);)"TEMPLATE"!==va.nodeName.toUpperCase()&&(">*"===wa||v(va,wa))&&xa++;return xa}function v(va,wa){if(va)try{if(va.matches)return va.matches(wa);if(va.msMatchesSelector)return va.msMatchesSelector(wa)}catch(xa){return!1}return!1}function w(va,wa){var xa,ya;return function(){void 0==xa&&(xa=arguments,ya=this,ga(function(){1===xa.length?va.call(ya,xa[0]):va.apply(ya,xa),xa=void 0},wa))}}function z(va,wa){if(va&&wa)for(var xa in wa)wa.hasOwnProperty(xa)&&(va[xa]=wa[xa]);return va}function A(va){return ia&&ia.dom?ia.dom(va).cloneNode(!0):ha?ha(va).clone(!0)[0]:va.cloneNode(!0)}function B(va){qa.length=0;for(var ya,wa=va.getElementsByTagName("input"),xa=wa.length;xa--;)ya=wa[xa],ya.checked&&qa.push(ya)}function C(va){return ga(va,0)}function D(va){return clearTimeout(va)}if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,W,X,Y,Z,V={},aa=/\s+/g,ba=/left|right|inline/,ca="Sortable"+new Date().getTime(),da=window,ea=da.document,fa=da.parseInt,ga=da.setTimeout,ha=da.jQuery||da.Zepto,ia=da.Polymer,ja=!1,ka=!1,la="draggable"in ea.createElement("div"),ma=function(va){return!!!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie)/i)&&(va=ea.createElement("x"),va.style.cssText="pointer-events:auto","auto"===va.style.pointerEvents)}(),na=!1,oa=Math.abs,pa=Math.min,qa=[],ra=[],sa=function(){return!1},ta=w(function(va,wa,xa){if(xa&&wa.scroll){var za,Aa,Ha,Ia,Ja,Ka,ya=xa[ca],Ba=wa.scrollSensitivity,Ca=wa.scrollSpeed,Da=va.clientX,Ea=va.clientY,Fa=window.innerWidth,Ga=window.innerHeight;if(M!==xa&&(L=wa.scroll,M=xa,N=wa.scrollFn,!0===L)){L=xa;do if(L.offsetWidth<L.scrollWidth||L.offsetHeight<L.scrollHeight)break;while(L=L.parentNode)}L&&(za=L,Aa=L.getBoundingClientRect(),Ha=(oa(Aa.right-Da)<=Ba)-(oa(Aa.left-Da)<=Ba),Ia=(oa(Aa.bottom-Ea)<=Ba)-(oa(Aa.top-Ea)<=Ba)),Ha||Ia||(Ha=(Fa-Da<=Ba)-(Da<=Ba),Ia=(Ga-Ea<=Ba)-(Ea<=Ba),(Ha||Ia)&&(za=da)),(V.vx!==Ha||V.vy!==Ia||V.el!==za)&&(V.el=za,V.vx=Ha,V.vy=Ia,clearInterval(V.pid),za&&(V.pid=setInterval(function(){Ka=Ia?Ia*Ca:0,Ja=Ha?Ha*Ca:0,"function"==typeof N&&"continue"!==N.call(ya,Ja,Ka,va,X,za)||(za===da?da.scrollTo(da.pageXOffset+Ja,da.pageYOffset+Ka):(za.scrollTop+=Ka,za.scrollLeft+=Ja))},24)))}},30),ua=function(va){function wa(za,Aa){return(null==za||!0===za)&&(za=xa.name,null==za)?sa:"function"==typeof za?za:function(Ba,Ca){var Da=Ca.options.group.name;return Aa?za:za&&(za.join?-1<za.indexOf(Da):Da==za)}}var xa={},ya=va.group;ya&&"object"==typeof ya||(ya={name:ya}),xa.name=ya.name,xa.checkPull=wa(ya.pull,!0),xa.checkPut=wa(ya.put),xa.revertClone=ya.revertClone,va.group=xa};try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){ka=!1,ja={capture:!1,passive:ka}}}))}catch(va){}return b.prototype={constructor:b,_onTapStart:function(va){var Fa,wa=this,xa=this.el,ya=this.options,za=ya.preventOnFilter,Aa=va.type,Ba=va.touches&&va.touches[0],Ca=(Ba||va).target,Da=va.target.shadowRoot&&va.path&&va.path[0]||Ca,Ea=ya.filter;if((B(xa),!E)&&!(/mousedown|pointerdown/.test(Aa)&&0!==va.button||ya.disabled)&&!Da.isContentEditable&&(Ca=d(Ca,ya.draggable,xa),!!Ca)&&K!==Ca){if(Fa=u(Ca,ya.draggable),"function"==typeof Ea){if(Ea.call(this,va,Ca,this))return o(wa,Da,"filter",Ca,xa,xa,Fa),void(za&&va.preventDefault());}else if(Ea&&(Ea=Ea.split(",").some(function(Ga){if(Ga=d(Da,Ga.trim(),xa),Ga)return o(wa,Ga,"filter",Ca,xa,xa,Fa),!0}),Ea))return void(za&&va.preventDefault());ya.handle&&!d(Da,ya.handle,xa)||this._prepareDragStart(va,Ba,Ca,Fa)}},_prepareDragStart:function(va,wa,xa,ya){var Da,za=this,Aa=za.el,Ba=za.options,Ca=Aa.ownerDocument;xa&&!E&&xa.parentNode===Aa&&(W=va,I=Aa,E=xa,F=E.parentNode,J=E.nextSibling,K=xa,T=Ba.group,R=ya,this._lastX=(wa||va).clientX,this._lastY=(wa||va).clientY,E.style["will-change"]="all",Da=function(){za._disableDelayedDrag(),E.draggable=za.nativeDraggable,k(E,Ba.chosenClass,!0),za._triggerDragStart(va,wa),o(za,I,"choose",E,I,I,R)},Ba.ignore.split(",").forEach(function(Ea){m(E,Ea.trim(),q)}),h(Ca,"mouseup",za._onDrop),h(Ca,"touchend",za._onDrop),h(Ca,"touchcancel",za._onDrop),h(Ca,"selectstart",za),Ba.supportPointer&&h(Ca,"pointercancel",za._onDrop),Ba.delay?(h(Ca,"mouseup",za._disableDelayedDrag),h(Ca,"touchend",za._disableDelayedDrag),h(Ca,"touchcancel",za._disableDelayedDrag),h(Ca,"mousemove",za._disableDelayedDrag),h(Ca,"touchmove",za._delayedDragTouchMoveHandler),Ba.supportPointer&&h(Ca,"pointermove",za._delayedDragTouchMoveHandler),za._dragStartTimer=ga(Da,Ba.delay)):Da())},_delayedDragTouchMoveHandler:function(va){pa(oa(va.clientX-this._lastX),oa(va.clientY-this._lastY))>=this.options.touchStartThreshold&&this._disableDelayedDrag()},_disableDelayedDrag:function(){var va=this.el.ownerDocument;clearTimeout(this._dragStartTimer),j(va,"mouseup",this._disableDelayedDrag),j(va,"touchend",this._disableDelayedDrag),j(va,"touchcancel",this._disableDelayedDrag),j(va,"mousemove",this._disableDelayedDrag),j(va,"touchmove",this._disableDelayedDrag),j(va,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(va,wa){wa=wa||("touch"==va.pointerType?va:null),wa?(W={target:E,clientX:wa.clientX,clientY:wa.clientY},this._onDragStart(W,"touch")):this.nativeDraggable?(h(E,"dragend",this),h(I,"dragstart",this._onDragStart)):this._onDragStart(W,!0);try{ea.selection?C(function(){ea.selection.empty()}):window.getSelection().removeAllRanges()}catch(xa){}},_dragStarted:function(){if(I&&E){var va=this.options;k(E,va.ghostClass,!0),k(E,va.dragClass,!1),b.active=this,o(this,I,"start",E,I,I,R)}else this._nulling()},_emulateDragOver:function(){if(X){if(this._lastX===X.clientX&&this._lastY===X.clientY)return;this._lastX=X.clientX,this._lastY=X.clientY,ma||l(G,"display","none");for(var va=ea.elementFromPoint(X.clientX,X.clientY),wa=va,xa=ra.length;va&&va.shadowRoot;)va=va.shadowRoot.elementFromPoint(X.clientX,X.clientY),wa=va;if(wa)do{if(wa[ca]){for(;xa--;)ra[xa]({clientX:X.clientX,clientY:X.clientY,target:va,rootEl:wa});break}va=wa}while(wa=wa.parentNode);ma||l(G,"display","")}},_onTouchMove:function(va){if(W){var wa=this.options,xa=wa.fallbackTolerance,ya=wa.fallbackOffset,za=va.touches?va.touches[0]:va,Aa=za.clientX-W.clientX+ya.x,Ba=za.clientY-W.clientY+ya.y,Ca=va.touches?"translate3d("+Aa+"px,"+Ba+"px,0)":"translate("+Aa+"px,"+Ba+"px)";if(!b.active){if(xa&&pa(oa(za.clientX-this._lastX),oa(za.clientY-this._lastY))<xa)return;this._dragStarted()}this._appendGhost(),Y=!0,X=za,l(G,"webkitTransform",Ca),l(G,"mozTransform",Ca),l(G,"msTransform",Ca),l(G,"transform",Ca),va.preventDefault()}},_appendGhost:function(){if(!G){var ya,va=E.getBoundingClientRect(),wa=l(E),xa=this.options;G=E.cloneNode(!0),k(G,xa.ghostClass,!1),k(G,xa.fallbackClass,!0),k(G,xa.dragClass,!0),l(G,"top",va.top-fa(wa.marginTop,10)),l(G,"left",va.left-fa(wa.marginLeft,10)),l(G,"width",va.width),l(G,"height",va.height),l(G,"opacity","0.8"),l(G,"position","fixed"),l(G,"zIndex","100000"),l(G,"pointerEvents","none"),xa.fallbackOnBody&&ea.body.appendChild(G)||I.appendChild(G),ya=G.getBoundingClientRect(),l(G,"width",2*va.width-ya.width),l(G,"height",2*va.height-ya.height)}},_onDragStart:function(va,wa){var xa=this,ya=va.dataTransfer,za=xa.options;xa._offUpEvents(),T.checkPull(xa,xa,E,va)&&(H=A(E),H.draggable=!1,H.style["will-change"]="",l(H,"display","none"),k(H,xa.options.chosenClass,!1),xa._cloneId=C(function(){I.insertBefore(H,E),o(xa,I,"clone",E)})),k(E,za.dragClass,!0),wa?("touch"===wa?(h(ea,"touchmove",xa._onTouchMove),h(ea,"touchend",xa._onDrop),h(ea,"touchcancel",xa._onDrop),za.supportPointer&&(h(ea,"pointermove",xa._onTouchMove),h(ea,"pointerup",xa._onDrop))):(h(ea,"mousemove",xa._onTouchMove),h(ea,"mouseup",xa._onDrop)),xa._loopId=setInterval(xa._emulateDragOver,50)):(ya&&(ya.effectAllowed="move",za.setData&&za.setData.call(xa,ya,E)),h(ea,"drop",xa),xa._dragStartId=C(xa._dragStarted))},_onDragOver:function(va){var xa,ya,za,Aa,wa=this.el,Ba=this.options,Ca=Ba.group,Da=b.active,Ea=T===Ca,Fa=!1,Ga=Ba.sort;if((void 0!==va.preventDefault&&(va.preventDefault(),!Ba.dragoverBubble&&va.stopPropagation()),!E.animated)&&(Y=!0,Da&&!Ba.disabled&&(Ea?Ga||(Aa=!I.contains(E)):U===this||(Da.lastPullMode=T.checkPull(this,Da,E,va))&&Ca.checkPut(this,Da,E,va))&&(void 0===va.rootEl||va.rootEl===this.el))){if(ta(va,Ba,this.el),na)return;if(xa=d(va.target,Ba.draggable,wa),ya=E.getBoundingClientRect(),U!==this&&(U=this,Fa=!0),Aa)return c(Da,!0),F=I,void(H||J?I.insertBefore(E,H||J):!Ga&&I.appendChild(E));if(0===wa.children.length||wa.children[0]===G||wa===va.target&&s(wa,va)){if(0!==wa.children.length&&wa.children[0]!==G&&wa===va.target&&(xa=wa.lastElementChild),xa){if(xa.animated)return;za=xa.getBoundingClientRect()}c(Da,Ea),!1!==p(I,wa,E,ya,xa,za,va)&&(!E.contains(wa)&&(wa.appendChild(E),F=wa),this._animate(ya,E),xa&&this._animate(za,xa))}else if(xa&&!xa.animated&&xa!==E&&void 0!==xa.parentNode[ca]){O!==xa&&(O=xa,P=l(xa),Q=l(xa.parentNode)),za=xa.getBoundingClientRect();var Ha=za.right-za.left,Ia=za.bottom-za.top,Ja=ba.test(P.cssFloat+P.display)||"flex"==Q.display&&0===Q["flex-direction"].indexOf("row"),Ka=xa.offsetWidth>E.offsetWidth,La=xa.offsetHeight>E.offsetHeight,Ma=0.5<(Ja?(va.clientX-za.left)/Ha:(va.clientY-za.top)/Ia),Na=xa.nextElementSibling,Oa=!1;if(Ja){var Pa=E.offsetTop,Qa=xa.offsetTop;Oa=Pa===Qa?xa.previousElementSibling===E&&!Ka||Ma&&Ka:xa.previousElementSibling===E||E.previousElementSibling===xa?0.5<(va.clientY-za.top)/Ia:Qa>Pa}else Fa||(Oa=Na!==E&&!La||Ma&&La);var Ra=p(I,wa,E,ya,xa,za,va,Oa);!1!==Ra&&((1===Ra||-1===Ra)&&(Oa=1===Ra),na=!0,ga(r,30),c(Da,Ea),!E.contains(wa)&&(Oa&&!Na?wa.appendChild(E):xa.parentNode.insertBefore(E,Oa?Na:xa)),F=E.parentNode,this._animate(ya,E),this._animate(za,xa))}}},_animate:function(va,wa){var xa=this.options.animation;if(xa){var ya=wa.getBoundingClientRect();1===va.nodeType&&(va=va.getBoundingClientRect()),l(wa,"transition","none"),l(wa,"transform","translate3d("+(va.left-ya.left)+"px,"+(va.top-ya.top)+"px,0)"),Z=wa.offsetWidth,l(wa,"transition","all "+xa+"ms"),l(wa,"transform","translate3d(0,0,0)"),clearTimeout(wa.animated),wa.animated=ga(function(){l(wa,"transition",""),l(wa,"transform",""),wa.animated=!1},xa)}},_offUpEvents:function(){var va=this.el.ownerDocument;j(ea,"touchmove",this._onTouchMove),j(ea,"pointermove",this._onTouchMove),j(va,"mouseup",this._onDrop),j(va,"touchend",this._onDrop),j(va,"pointerup",this._onDrop),j(va,"touchcancel",this._onDrop),j(va,"pointercancel",this._onDrop),j(va,"selectstart",this)},_onDrop:function(va){var wa=this.el,xa=this.options;clearInterval(this._loopId),clearInterval(V.pid),clearTimeout(this._dragStartTimer),D(this._cloneId),D(this._dragStartId),j(ea,"mouseover",this),j(ea,"mousemove",this._onTouchMove),this.nativeDraggable&&(j(ea,"drop",this),j(wa,"dragstart",this._onDragStart)),this._offUpEvents(),va&&(Y&&(va.preventDefault(),!xa.dropBubble&&va.stopPropagation()),G&&G.parentNode&&G.parentNode.removeChild(G),(I===F||"clone"!==b.active.lastPullMode)&&H&&H.parentNode&&H.parentNode.removeChild(H),E&&(this.nativeDraggable&&j(E,"dragend",this),q(E),E.style["will-change"]="",k(E,this.options.ghostClass,!1),k(E,this.options.chosenClass,!1),o(this,I,"unchoose",E,F,I,R,null,va),I===F?E.nextSibling!==J&&(S=u(E,xa.draggable),0<=S&&(o(this,I,"update",E,F,I,R,S,va),o(this,I,"sort",E,F,I,R,S,va))):(S=u(E,xa.draggable),0<=S&&(o(null,F,"add",E,F,I,R,S,va),o(this,I,"remove",E,F,I,R,S,va),o(null,F,"sort",E,F,I,R,S,va),o(this,I,"sort",E,F,I,R,S,va))),b.active&&((null==S||-1===S)&&(S=R),o(this,I,"end",E,F,I,R,S,va),this.save()))),this._nulling()},_nulling:function(){I=E=F=G=J=H=K=L=M=W=X=Y=S=O=P=U=T=b.active=null,qa.forEach(function(va){va.checked=!0}),qa.length=0},handleEvent:function(va){switch(va.type){case"drop":case"dragend":this._onDrop(va);break;case"dragover":case"dragenter":E&&(this._onDragOver(va),g(va));break;case"mouseover":this._onDrop(va);break;case"selectstart":va.preventDefault();}},toArray:function(){for(var wa,va=[],xa=this.el.children,ya=0,za=xa.length,Aa=this.options;ya<za;ya++)wa=xa[ya],d(wa,Aa.draggable,this.el)&&va.push(wa.getAttribute(Aa.dataIdAttr)||t(wa));return va},sort:function(va){var wa={},xa=this.el;this.toArray().forEach(function(ya,za){var Aa=xa.children[za];d(Aa,this.options.draggable,xa)&&(wa[ya]=Aa)},this),va.forEach(function(ya){wa[ya]&&(xa.removeChild(wa[ya]),xa.appendChild(wa[ya]))})},save:function(){var va=this.options.store;va&&va.set(this)},closest:function(va,wa){return d(va,wa||this.options.draggable,this.el)},option:function(va,wa){var xa=this.options;return void 0===wa?xa[va]:void(xa[va]=wa,"group"===va&&ua(xa))},destroy:function(){var va=this.el;va[ca]=null,j(va,"mousedown",this._onTapStart),j(va,"touchstart",this._onTapStart),j(va,"pointerdown",this._onTapStart),this.nativeDraggable&&(j(va,"dragover",this),j(va,"dragenter",this)),Array.prototype.forEach.call(va.querySelectorAll("[draggable]"),function(wa){wa.removeAttribute("draggable")}),ra.splice(ra.indexOf(this._onDragOver),1),this._onDrop(),this.el=va=null}},h(ea,"touchmove",function(va){b.active&&va.preventDefault()}),b.utils={on:h,off:j,css:l,find:m,is:function(va,wa){return!!d(va,wa,va)},extend:z,throttle:w,closest:d,toggleClass:k,clone:A,index:u,nextTick:C,cancelNextTick:D},b.create=function(va,wa){return new b(va,wa)},b.version="1.7.0",b});
